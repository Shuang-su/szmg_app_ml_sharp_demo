# Netlify 配置文件
# 项目: szmg_app_ml_sharp_demo

[build]
  # 发布目录 - 由于资源分布在多个目录，使用根目录
  publish = "."
  
  # 不需要构建命令（纯静态网站）
  command = ""

# 重定向规则 - 将根路径指向 frontend/index.html
[[redirects]]
  from = "/"
  to = "/frontend/index.html"
  status = 200

# 响应头配置
[[headers]]
  for = "/*"
  [headers.values]
    # CORS 头
    Access-Control-Allow-Origin = "*"
    # 缓存控制
    Cache-Control = "public, max-age=3600"

# PLY 文件特殊缓存（大文件，长期缓存）
[[headers]]
  for = "/data/ply/*.ply"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# 镜像页面不缓存
[[headers]]
  for = "/mirrors/*"
  [headers.values]
    Cache-Control = "no-cache"
