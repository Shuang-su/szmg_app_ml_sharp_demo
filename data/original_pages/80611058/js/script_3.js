!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).yszSdkUtils={})}(this,function(E){"use strict";var h=function(){return(h=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function y(e,r,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{a(l.next(e))}catch(e){t(e)}}function o(e){try{a(l.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}a((l=l.apply(e,r||[])).next())})}function f(i,o){var a,r,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(a)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(a=1,r&&(s=2&t[0]?r.return:t[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,t[1])).done)return s;switch(r=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],r=0}finally{a=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}var L=["https://apix.scms.sztv.com.cn","https://apix.scms.sztv.com.cn"],O=["https://shenmah5.scms.sztv.com.cn","https://shenmah5.scms.sztv.com.cn"],C=["https://memberrestysz.mp.sztv.com.cn/memberapi/api/user/detail","https://memberrestysz.mp.sztv.com.cn/memberapi/api/user/detail"],D=["http://127.0.0.1:10003/api/weixin/userinfo","https://apix.scms.sztv.com.cn/api/weixin/userinfo"],N=["https://memberrestysz.mp.sztv.com.cn/memberapi/api/userinfo/editTag","https://memberrestysz.mp.sztv.com.cn/memberapi/api/userinfo/editTag"],P=["https://www.sztv.com.cn/ysztv/web/sns/scan","https://www.sztv.com.cn/ysztv/web/sns/scan"],R=["https://www.sztv.com.cn/ysztv/web/sns/checkLogin","https://www.sztv.com.cn/ysztv/web/sns/checkLogin"],m={username:"yszmember",secret:"s0eGo6GNp6K3seyy9SuaZJhwBoWD6A0x",host:"memberrestysz.mp.sztv.com.cn"},v="SKSJ_YszUserInfo",w="SKSJ_AccessToken",U="__ga_sksj_dev_udm",F="SKSJ_Wx_YszUserInfo",X=2592e3,q="https://res.wx.qq.com/open/js/jweixin-1.6.0.js",G="szmgszmgszmgszmg",W="0102030405060708",Z="eihoexai7aisheiG4queeGaip4Geish0",K="rqkiAZF7BOMtr6tW",Q=["updateAppMessageShareData","updateTimelineShareData","openLocation","getLocation","hideOptionMenu","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","closeWindow","scanQRCode","chooseImage"],V=function(e){return $.prototype=e,e=new $,$.prototype=null,e};function $(){}var o={extend:function(e){var t=V(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},_=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||ee).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,o=e.sigBytes;if(this.clamp(),i%4)for(var a=0;a<o;a++){var r=n[a>>>2]>>>24-a%4*8&255;t[i+a>>>2]|=r<<24-(i+a)%4*8}else for(var s=0;s<o;s+=4)t[i+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=Math.ceil(t/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(function(){if("function"==typeof window.crypto.getRandomValues)try{return window.crypto.getRandomValues(new Uint32Array(1))[0]}catch(e){}}());return new _.init(t,e)}}),ee={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var a=t[o>>>2]>>>24-o%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new _.init(n,t/2)}},ne=function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var a=t[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(a))}return i.join("")},ie=function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new _.init(n,t)},s={stringify:function(e){try{return decodeURIComponent(escape(ne(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return ie(unescape(encodeURIComponent(e)))}},oe=o.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=s.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,r=o/(4*a),s=(r=e?Math.ceil(r):Math.max((0|r)-this._minBufferSize,0))*a,e=Math.min(4*s,o);if(s){for(var l=0;l<s;l+=a)this._doProcessBlock(i,l);t=i.splice(0,s),n.sigBytes-=e}return new _.init(t,e)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),t=oe.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){oe.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n,i){return function(e,t){return new n.init(i,t).finalize(e)}}});for(var ae={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=this._map,o=(e.clamp(),[]),a=0;a<n;a+=3)for(var r=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)o.push(i.charAt(r>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var t=e.length,n=this._map;if(!(i=this._reverseMap))for(var i=this._reverseMap=[],o=0;o<n.length;o++)i[n.charCodeAt(o)]=o;for(var a,r,s=n.charAt(64),l=(s&&-1!==(s=e.indexOf(s))&&(t=s),e),c=t,d=i,g=[],u=0,p=0;p<c;p++)p%4&&(a=d[l.charCodeAt(p-1)]<<p%4*2,r=d[l.charCodeAt(p)]>>>6-p%4*2,g[u>>>2]|=(a|r)<<24-u%4*8,u++);return _.create(g,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},M=[],re=0;re<64;re++)M[re]=4294967296*Math.abs(Math.sin(re+1))|0;function T(e,t,n,i,o,a,r){e=e+(t&n|~t&i)+o+r;return(e<<a|e>>>32-a)+t}function I(e,t,n,i,o,a,r){e=e+(t&i|n&~i)+o+r;return(e<<a|e>>>32-a)+t}function A(e,t,n,i,o,a,r){e=e+(t^n^i)+o+r;return(e<<a|e>>>32-a)+t}function j(e,t,n,i,o,a,r){e=e+(n^(t|~i))+o+r;return(e<<a|e>>>32-a)+t}var e=t.extend({_doReset:function(){this._hash=new _.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,o=e[i];e[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a=this._hash.words,r=e[t+0],s=e[t+1],l=e[t+2],c=e[t+3],d=e[t+4],g=e[t+5],u=e[t+6],p=e[t+7],h=e[t+8],y=e[t+9],f=e[t+10],m=e[t+11],v=e[t+12],w=e[t+13],_=e[t+14],k=e[t+15],z=T(a[0],b=a[1],S=a[2],x=a[3],r,7,M[0]),x=T(x,z,b,S,s,12,M[1]),S=T(S,x,z,b,l,17,M[2]),b=T(b,S,x,z,c,22,M[3]);z=T(z,b,S,x,d,7,M[4]),x=T(x,z,b,S,g,12,M[5]),S=T(S,x,z,b,u,17,M[6]),b=T(b,S,x,z,p,22,M[7]),z=T(z,b,S,x,h,7,M[8]),x=T(x,z,b,S,y,12,M[9]),S=T(S,x,z,b,f,17,M[10]),b=T(b,S,x,z,m,22,M[11]),z=T(z,b,S,x,v,7,M[12]),x=T(x,z,b,S,w,12,M[13]),S=T(S,x,z,b,_,17,M[14]),z=I(z,b=T(b,S,x,z,k,22,M[15]),S,x,s,5,M[16]),x=I(x,z,b,S,u,9,M[17]),S=I(S,x,z,b,m,14,M[18]),b=I(b,S,x,z,r,20,M[19]),z=I(z,b,S,x,g,5,M[20]),x=I(x,z,b,S,f,9,M[21]),S=I(S,x,z,b,k,14,M[22]),b=I(b,S,x,z,d,20,M[23]),z=I(z,b,S,x,y,5,M[24]),x=I(x,z,b,S,_,9,M[25]),S=I(S,x,z,b,c,14,M[26]),b=I(b,S,x,z,h,20,M[27]),z=I(z,b,S,x,w,5,M[28]),x=I(x,z,b,S,l,9,M[29]),S=I(S,x,z,b,p,14,M[30]),z=A(z,b=I(b,S,x,z,v,20,M[31]),S,x,g,4,M[32]),x=A(x,z,b,S,h,11,M[33]),S=A(S,x,z,b,m,16,M[34]),b=A(b,S,x,z,_,23,M[35]),z=A(z,b,S,x,s,4,M[36]),x=A(x,z,b,S,d,11,M[37]),S=A(S,x,z,b,p,16,M[38]),b=A(b,S,x,z,f,23,M[39]),z=A(z,b,S,x,w,4,M[40]),x=A(x,z,b,S,r,11,M[41]),S=A(S,x,z,b,c,16,M[42]),b=A(b,S,x,z,u,23,M[43]),z=A(z,b,S,x,y,4,M[44]),x=A(x,z,b,S,v,11,M[45]),S=A(S,x,z,b,k,16,M[46]),z=j(z,b=A(b,S,x,z,l,23,M[47]),S,x,r,6,M[48]),x=j(x,z,b,S,p,10,M[49]),S=j(S,x,z,b,_,15,M[50]),b=j(b,S,x,z,g,21,M[51]),z=j(z,b,S,x,v,6,M[52]),x=j(x,z,b,S,c,10,M[53]),S=j(S,x,z,b,f,15,M[54]),b=j(b,S,x,z,s,21,M[55]),z=j(z,b,S,x,h,6,M[56]),x=j(x,z,b,S,k,10,M[57]),S=j(S,x,z,b,u,15,M[58]),b=j(b,S,x,z,w,21,M[59]),z=j(z,b,S,x,d,6,M[60]),x=j(x,z,b,S,m,10,M[61]),S=j(S,x,z,b,l,15,M[62]),b=j(b,S,x,z,y,21,M[63]),a[0]=a[0]+z|0,a[1]=a[1]+b|0,a[2]=a[2]+S|0,a[3]=a[3]+x|0},_doFinalize:function(){for(var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes,o=(t[i>>>5]|=128<<24-i%32,Math.floor(n/4294967296)),o=(t[15+(64+i>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t[14+(64+i>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),this._hash),a=o.words,r=0;r<4;r++){var s=a[r];a[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e}}),se=t._createHelper(e),le=(t._createHmacHelper(e),oe.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){oe.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(i){return{encrypt:function(e,t,n){return ce(t).encrypt(i,e,t,n)},decrypt:function(e,t,n){return ce(t).decrypt(i,e,t,n)}}}}));function ce(e){return"string"==typeof e?pe:ge}var de=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),ge=o.extend({cfg:o.extend({format:{stringify:function(e){var t=e.ciphertext,e=e.salt,e=e?_.create([1398893684,1701076831]).concat(e).concat(t):t;return e.toString(ae)},parse:function(e){var t,e=ae.parse(e),n=e.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=_.create(n.slice(2,4)),n.splice(0,4),e.sigBytes-=16),de.create({ciphertext:e,salt:t})}}}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var o=e.createEncryptor(n,i),t=o.finalize(t),o=o.cfg;return de.create({ciphertext:t,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),ue=o.extend({cfg:o.extend({keySize:4,hasher:se,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,o=i.hasher.create(),a=_.create(),r=a.words,s=i.keySize,l=i.iterations;r.length<s;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var c=1;c<l;c++)n=o.finalize(n),o.reset();a.concat(n)}return a.sigBytes=4*s,a}}),pe=ge.extend({cfg:ge.cfg.extend({kdf:{execute:function(e,t,n,i,o){i=i||_.random(8),o=(o?ue.create({keySize:t+n,hasher:o}):ue.create({keySize:t+n})).compute(e,i);e=_.create(o.words.slice(t),4*n);return o.sigBytes=4*t,de.create({key:o,iv:e,salt:i})}}}),encrypt:function(e,t,n,i){n=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize,i.salt,i.hasher),i.iv=n.iv,e=ge.encrypt.call(this,e,t,n.key,i);return e.mixIn(n),e},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt,i.hasher);return i.iv=n.iv,ge.decrypt.call(this,e,t,n.key,i)}}),e=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),he=((e=e.extend()).Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;ye.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);n.decryptBlock(e,t),ye.call(this,e,t,i),this._prevBlock=o}}),e);function ye(e,t,n){var i,o=this._iv;o?(i=o,this._iv=void 0):i=this._prevBlock;for(var a=0;a<n;a++)e[t+a]^=i[a]}for(var fe={pad:function(e,t){for(var t=4*t,n=t-e.sigBytes%t,i=n<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(i);t=_.create(o,n);e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e=le.extend({cfg:le.cfg.extend({mode:he,padding:fe}),reset:function(){le.reset.call(this);var e,t=this.cfg,n=t.iv,t=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=t.createEncryptor:(e=t.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(t,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),c=[],me=[],ve=[],we=[],_e=[],ke=[],ze=[],xe=[],Se=[],be=[],n=[],i=0;i<256;i++)n[i]=i<128?i<<1:i<<1^283;for(var a=0,r=0,i=0;i<256;i++){var l=r^r<<1^r<<2^r<<3^r<<4,Me=n[me[c[a]=l=l>>>8^255&l^99]=a],Te=n[Me],Ie=n[Te],d=257*n[l]^16843008*l;ve[a]=d<<24|d>>>8,we[a]=d<<16|d>>>16,_e[a]=d<<8|d>>>24,ke[a]=d,ze[l]=(d=16843009*Ie^65537*Te^257*Me^16843008*a)<<24|d>>>8,xe[l]=d<<16|d>>>16,Se[l]=d<<8|d>>>24,be[l]=d,a?(a=Me^n[n[n[Ie^Me]]],r^=n[n[r]]):a=r=1}var Ae=[0,1,2,4,8,16,32,64,128,27,54],g=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*(1+(this._nRounds=6+n)),o=this._keySchedule=[],a=0;a<i;a++)a<n?o[a]=t[a]:(l=o[a-1],a%n?6<n&&a%n==4&&(l=c[l>>>24]<<24|c[l>>>16&255]<<16|c[l>>>8&255]<<8|c[255&l]):(l=c[(l=l<<8|l>>>24)>>>24]<<24|c[l>>>16&255]<<16|c[l>>>8&255]<<8|c[255&l],l^=Ae[a/n|0]<<24),o[a]=o[a-n]^l);for(var r=this._invKeySchedule=[],s=0;s<i;s++){var l,a=i-s;l=s%4?o[a]:o[a-4],r[s]=s<4||a<=4?l:ze[c[l>>>24]]^xe[c[l>>>16&255]]^Se[c[l>>>8&255]]^be[c[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,ve,we,_e,ke,c)},decryptBlock:function(e,t){var n=e[t+1],n=(e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,ze,xe,Se,be,me),e[t+1]);e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,o,a,r,s){for(var l=this._nRounds,c=e[t]^n[0],d=e[t+1]^n[1],g=e[t+2]^n[2],u=e[t+3]^n[3],p=4,h=1;h<l;h++)var y=i[c>>>24]^o[d>>>16&255]^a[g>>>8&255]^r[255&u]^n[p++],f=i[d>>>24]^o[g>>>16&255]^a[u>>>8&255]^r[255&c]^n[p++],m=i[g>>>24]^o[u>>>16&255]^a[c>>>8&255]^r[255&d]^n[p++],v=i[u>>>24]^o[c>>>16&255]^a[d>>>8&255]^r[255&g]^n[p++],c=y,d=f,g=m,u=v;y=(s[c>>>24]<<24|s[d>>>16&255]<<16|s[g>>>8&255]<<8|s[255&u])^n[p++],f=(s[d>>>24]<<24|s[g>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^n[p++],m=(s[g>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&d])^n[p++],v=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[d>>>8&255]<<8|s[255&g])^n[p++];e[t]=y,e[t+1]=f,e[t+2]=m,e[t+3]=v},keySize:8}),je=e._createHelper(g),e=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));for(var n=e.blockSize,i=4*n,e=((t=t.sigBytes>i?e.finalize(t):t).clamp(),this._oKey=t.clone()),t=this._iKey=t.clone(),o=e.words,a=t.words,r=0;r<n;r++)o[r]^=1549556828,a[r]^=909522486;e.sigBytes=t.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}}),u=o.extend({init:function(e,t){this.high=e,this.low=t}}),Be=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var o=e[i];n.push(o.high),n.push(o.low)}return _.create(n,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}});function p(){return u.create.apply(u,arguments)}for(var Ee=[p(1116352408,3609767458),p(1899447441,602891725),p(3049323471,3964484399),p(3921009573,2173295548),p(961987163,4081628472),p(1508970993,3053834265),p(2453635748,2937671579),p(2870763221,3664609560),p(3624381080,2734883394),p(310598401,1164996542),p(607225278,1323610764),p(1426881987,3590304994),p(1925078388,4068182383),p(2162078206,991336113),p(2614888103,633803317),p(3248222580,3479774868),p(3835390401,2666613458),p(4022224774,944711139),p(264347078,2341262773),p(604807628,2007800933),p(770255983,1495990901),p(1249150122,1856431235),p(1555081692,3175218132),p(1996064986,2198950837),p(2554220882,3999719339),p(2821834349,766784016),p(2952996808,2566594879),p(3210313671,3203337956),p(3336571891,1034457026),p(3584528711,2466948901),p(113926993,3758326383),p(338241895,168717936),p(666307205,1188179964),p(773529912,1546045734),p(1294757372,1522805485),p(1396182291,2643833823),p(1695183700,2343527390),p(1986661051,1014477480),p(2177026350,1206759142),p(2456956037,344077627),p(2730485921,1290863460),p(2820302411,3158454273),p(3259730800,3505952657),p(3345764771,106217008),p(3516065817,3606008344),p(3600352804,1432725776),p(4094571909,1467031594),p(275423344,851169720),p(430227734,3100823752),p(506948616,1363258195),p(659060556,3750685593),p(883997877,3785050280),p(958139571,3318307427),p(1322822218,3812723403),p(1537002063,2003034995),p(1747873779,3602036899),p(1955562222,1575990012),p(2024104815,1125592928),p(2227730452,2716904306),p(2361852424,442776044),p(2428436474,593698344),p(2756734187,3733110249),p(3204031479,2999351573),p(3329325298,3815920427),p(3391569614,3928383900),p(3515267271,566280711),p(3940187606,3454069534),p(4118630271,4000239992),p(116418474,1914138554),p(174292421,2731055270),p(289380356,3203993006),p(460393269,320620315),p(685471733,587496836),p(852142971,1086792851),p(1017036298,365543100),p(1126000580,2618297676),p(1288033470,3409855158),p(1501505948,4234509866),p(1607167915,987167468),p(1816402316,1246189591)],te=[],Le=0;Le<80;Le++)te[Le]=function(){return u.create.apply(u,arguments)}();var g=t.extend({_doReset:function(){this._hash=new Be.init([new u.init(1779033703,4089235720),new u.init(3144134277,2227873595),new u.init(1013904242,4271175723),new u.init(2773480762,1595750129),new u.init(1359893119,2917565137),new u.init(2600822924,725511199),new u.init(528734635,4215389547),new u.init(1541459225,327033209)])},_doProcessBlock:function(D,N){for(var e=this._hash.words,t=e[0],n=e[1],i=e[2],o=e[3],a=e[4],r=e[5],s=e[6],e=e[7],P=t.high,l=t.low,R=n.high,c=n.low,U=i.high,d=i.low,F=o.high,g=o.low,H=a.high,u=a.low,J=r.high,p=r.low,Y=s.high,h=s.low,X=e.high,y=e.low,f=P,m=l,v=R,w=c,_=U,k=d,q=F,z=g,x=H,S=u,G=J,b=p,W=Y,Z=h,K=X,Q=y,M=0;M<80;M++)var T,I,A=te[M],j=(M<16?(I=A.high=0|D[N+2*M],T=A.low=0|D[N+2*M+1]):(C=(O=te[M-15]).high,O=O.low,L=(E=te[M-2]).high,E=E.low,B=(j=te[M-7]).high,j=j.low,$=(V=te[M-16]).high,I=(I=((C>>>1|O<<31)^(C>>>8|O<<24)^C>>>7)+B+((T=(B=(O>>>1|C<<31)^(O>>>8|C<<24)^(O>>>7|C<<25))+j)>>>0<B>>>0?1:0))+((L>>>19|E<<13)^(L<<3|E>>>29)^L>>>6)+((T+=O=(E>>>19|L<<13)^(E<<3|L>>>29)^(E>>>6|L<<26))>>>0<O>>>0?1:0),T+=C=V.low,A.high=I=I+$+(T>>>0<C>>>0?1:0),A.low=T),x&G^~x&W),B=S&b^~S&Z,E=f&v^f&_^v&_,L=(m>>>28|f<<4)^(m<<30|f>>>2)^(m<<25|f>>>7),O=Ee[M],V=O.high,$=O.low,C=Q+((S>>>14|x<<18)^(S>>>18|x<<14)^(S<<23|x>>>9)),A=K+((x>>>14|S<<18)^(x>>>18|S<<14)^(x<<23|S>>>9))+(C>>>0<Q>>>0?1:0),ee=L+(m&w^m&k^w&k),K=W,Q=Z,W=G,Z=b,G=x,b=S,x=q+(A=A+j+((C=C+B)>>>0<B>>>0?1:0)+V+((C=C+$)>>>0<$>>>0?1:0)+I+((C=C+T)>>>0<T>>>0?1:0))+((S=z+C|0)>>>0<z>>>0?1:0)|0,q=_,z=k,_=v,k=w,v=f,w=m,f=A+(((f>>>28|m<<4)^(f<<30|m>>>2)^(f<<25|m>>>7))+E+(ee>>>0<L>>>0?1:0))+((m=C+ee|0)>>>0<C>>>0?1:0)|0;l=t.low=l+m,t.high=P+f+(l>>>0<m>>>0?1:0),c=n.low=c+w,n.high=R+v+(c>>>0<w>>>0?1:0),d=i.low=d+k,i.high=U+_+(d>>>0<k>>>0?1:0),g=o.low=g+z,o.high=F+q+(g>>>0<z>>>0?1:0),u=a.low=u+S,a.high=H+x+(u>>>0<S>>>0?1:0),p=r.low=p+b,r.high=J+G+(p>>>0<b>>>0?1:0),h=s.low=h+Z,s.high=Y+W+(h>>>0<Z>>>0?1:0),y=e.low=y+Q,e.high=X+K+(y>>>0<Q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(128+i>>>10<<5)]=Math.floor(n/4294967296),t[31+(128+i>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),Oe=(t._createHelper(g),t._createHmacHelper(e,g));(e=document.createElement("style")).type="text/css",e.appendChild(document.createTextNode(".ysz-sdk-login-overlay{position:fixed;top:0;left:0;z-index:99995;width:100vw;height:100vh;background:#0000007d;box-sizing:border-box;}.ysz-sdk-login-dialog{--normal-style-color:#FF6598;position:fixed;overflow:hidden;box-sizing:border-box;bottom:-100%;left:0;width:100vw;cursor:default;font-size:16px !important;background:url('https://www.sztv.com.cn/huodong/sj/common/images/login_dialog_bg.png') no-repeat;background-size:cover;border-radius:5vw 5vw 0 0;height:65%;padding:0px;max-height:70%;margin:0px;z-index:99996;transition:all 0.5s;}.ysz-sdk-login-dialog:before{content:\"\";display:table;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-close{position:absolute;top:20px;right:20px;width:25px;height:25px;z-index:1;color:#2e3033!important;font-size:16px;display:inline-block;text-rendering:auto;-webkit-font-smoothing:antialiased;cursor:pointer;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-close .ysz-sdk-login-dialog-close__svg{width:100%;height:100%;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain{box-sizing:border-box;width:100%;height:100%;position:relative;overflow:scroll;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-top{width:50%;margin:10% auto 0 auto;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center;box-sizing:border-box;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-top .ysz-sdk-login-dialog-loginMain-top__logo{width:100%;height:80px;background:url('https://www.sztv.com.cn/huodong/sj/common/images/yszsdk-logo.png') no-repeat center bottom;background-size:contain;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-input{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;align-content:center}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-input .ysz-sdk-login-dialog-loginMain-input__item{position:relative;width:80vw;height:50px;margin-top:10px;box-sizing:border-box;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-input .ysz-sdk-login-dialog-loginMain-input__item:first-child{margin-top:10%;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-input .ysz-sdk-login-dialog-loginMain-input__item:last-child{margin-top:10%;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-input .ysz-sdk-login-dialog-loginMain-input__item .ysz-sdk-login-dialog-loginMain-input__item-input{background:#fff;width:100%;height:100%;border-radius:54px;border:1px solid var(--normal-style-color);padding:10px 20px;font-size:16px;color:#2e3033;box-sizing:border-box;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-input .ysz-sdk-login-dialog-loginMain-input__item .ysz-sdk-login-dialog-loginMain-input__item-input:focus-visible{outline: none;border: 1px solid var(--normal-style-color);}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-input .ysz-sdk-login-dialog-loginMain-input__item .ysz-sdk-login-dialog-loginMain-input__item-sendCode{position:absolute;width:120px;height:100%;right:0;top:0;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center;font-size:14px;font-family:PingFangSC,PingFang SC;font-weight:400;color:var(--normal-style-color);}#ysz-sdk-login-loading{--uib-size:1.5rem;--uib-speed:.9s;--uib-color:#FF6598;position:relative;display:flex;align-items:center;justify-content:flex-start;height:35px !important;width:35px !important;}#ysz-sdk-login-loading .dot-spinner__dot{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:flex-start;height:100%;width:100%;}#ysz-sdk-login-loading .dot-spinner__dot::before{content:'';height:20%;width:20%;border-radius:50%;background-color:var(--normal-style-color);transform:scale(0);opacity:0.5;animation:ysz-sdk-login-loading-pulse-keyframes calc(var(--uib-speed) * 1.111) ease-in-out infinite;box-shadow:0 0 20px rgba(18,31,53,0.3);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(2){transform:rotate(45deg);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(2)::before{animation-delay:calc(var(--uib-speed) * -0.875);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(3){transform:rotate(90deg);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(3)::before{animation-delay:calc(var(--uib-speed) * -0.75);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(4){transform:rotate(135deg);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(4)::before{animation-delay:calc(var(--uib-speed) * -0.625);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(5){transform:rotate(180deg);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(5)::before{animation-delay:calc(var(--uib-speed) * -0.5);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(6){transform:rotate(225deg);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(6)::before{animation-delay:calc(var(--uib-speed) * -0.375);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(7){transform:rotate(270deg);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(7)::before{animation-delay:calc(var(--uib-speed) * -0.25);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(8){transform:rotate(315deg);}#ysz-sdk-login-loading .dot-spinner__dot:nth-child(8)::before{animation-delay:calc(var(--uib-speed) * -0.125);}@keyframes ysz-sdk-login-loading-pulse-keyframes{0%,100%{transform:scale(0);opacity:0.5;}50%{transform:scale(1);opacity:1;}}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-input .ysz-sdk-login-dialog-loginMain-input__item .ysz-sdk-login-dialog-loginMain-input__item-noInput{width:100%;opacity:0.5;height:50px;border:none;background:linear-gradient(90deg,#FF676F 0%,#FF0F85 100%);box-shadow:0 .10667rem .21333rem #e6005c33;border-radius:54px;font-size:16px;font-weight:400;color:#fff;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-protocol{color:#323232;font-size:14px;font-weight:400;text-align:center;white-space:normal;width:80vw;margin:20px auto;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-protocol .ysz-sdk-login-dialog-loginMain-protocol__inner{position:relative;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-protocol .ysz-sdk-login-dialog-loginMain-protocol__inner .ysz-sdk-login-dialog-loginMain-protocol__inner-radio{border-radius:50%;left:0;width:14px;height:14px;border:1px solid #828282}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-protocol .ysz-sdk-login-dialog-loginMain-protocol__inner .ysz-sdk-login-dialog-loginMain-protocol__inner-radio.ysz-sdk-login-dialog-loginMain-protocol__inner-radioAgree{align-items:center;background:var(--normal-style-color);border:1px solid var(--normal-style-color);display:flex}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-protocol .ysz-sdk-login-dialog-loginMain-protocol__inner .ysz-sdk-login-dialog-loginMain-protocol__inner-link{display:inline-block;white-space:normal;margin-left:5px;font-size:12px;color:#828282;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-protocol .ysz-sdk-login-dialog-loginMain-protocol__inner .ysz-sdk-login-dialog-loginMain-protocol__inner-link label{color:var(--normal-style-color)}.ysz-sdk-login-toast-tips{display:none;position:fixed;z-index:99996;background-color:#ee0a24;top:0;left:0;width:100%;align-items:center;justify-content:center;box-sizing:border-box;padding:8px 16px;color:#fff;font-size:14px;line-height:20px;white-space:pre-wrap;text-align:center;word-wrap:break-word;transition:all 0.3s;transform:translate3d(0,-100%,0);}@media only screen and (min-width:601px){.ysz-sdk-login-dialog{bottom:0px;width:450px;height:450px;left:0;right:0;top:0;bottom:0;margin:auto;border-radius:20px;}.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-input .ysz-sdk-login-dialog-loginMain-input__item,.ysz-sdk-login-dialog .ysz-sdk-login-dialog-loginMain .ysz-sdk-login-dialog-loginMain-protocol{width:80%;}}")),document.getElementsByTagName("head")[0].appendChild(e);Ce="String";var Ce,De=function(e){return Object.prototype.toString.call(e)==="[object ".concat(Ce,"]")};function Ne(e,t,n){var i;void 0===n&&(n=null),window.localStorage&&e&&("string"!=typeof t&&(t=JSON.stringify(t)),(i=window.localStorage).setItem(e,t),n)&&!isNaN(n)&&(t=(new Date).getTime()/1e3,i.setItem("".concat(e,"_expire"),t+n+""))}function Pe(e){if(window.localStorage&&e){var t=window.localStorage.getItem(e),e=window.localStorage.getItem("".concat(e,"_expire"));if(e)if((new Date).getTime()/1e3>parseInt(e))return;try{return JSON.parse(t)}catch(e){return t}}}function Re(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}var k={phoneIsValid:function(e){return!(!De(e)||11!==e.length)&&/^1[2-9]\d{9}$/.test(e)},setLocalStorage:Ne,getLocalStorage:Pe,clearLocalStorage:function(e){window.localStorage&&e&&(window.localStorage.removeItem(e),window.localStorage.removeItem("".concat(e,"_expire")))},isWeiXin:function(){var e=window.navigator.userAgent.toLowerCase();return/micromessenger/i.test(e)},getQueryValue:function(e,t){return(e=(e=decodeURIComponent(e).split("?")[1])&&e.split("#")[0])&&(t=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),null!=(e=e.match(t)))?"".concat(e[2]):""},setLocalDev:function(){Ne(U,"GA_DEV")},getLocalDev:function(){return"GA_DEV"==Pe(U)},loadScript:function(n){return new Promise(function(e){var t=document.createElement("script");t.type="text/javascript",t.readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,e(!0))}:t.onload=function(){e(!0)},t.src=n,document.getElementsByTagName("head")[0].appendChild(t)})},auth:function(e,t,n,i,o){var a=Re(),i={username:i||"onesz",secret:o||atob("eFVKN0dsczQ1U3QwQ1RuYXRud1p3c0g0VXlZajBycFg="),host:n||"apix.scms.sztv.com.cn"},n="x-date: "+(o=(new Date).toUTCString())+"\n@request-target: ".concat(e.toLowerCase()," ").concat(t,"\nhost: ").concat(i.host,"\nnonce: ").concat(a),e=Oe(n,i.secret),t=ae.stringify(e);return{GMTDate:o,Authorization:'hmac username="'+i.username+'", algorithm="hmac-sha512", headers="x-date @request-target host nonce", signature="'+t+'"',Nonce:a}},uuid:Re,_signHdtoken:function(e,t,n){return e="memberId:".concat(e,"|phone:").concat(t,"|token:").concat(n),t=Oe(e,atob("eFVKN0dsczQ1U3QwQ1RuYXRud1p3c0g0VXlZajBycFg=")),ae.stringify(t)},getUserTagArr:function(e,t){var n;return""==e?"string"==typeof t?t:t.join(","):(n=e.split(","),t=Array.isArray(t)?t:t.split(","),Array.isArray(t)&&t.forEach(function(e){e&&-1==n.indexOf(e)&&n.push(e)}),n.join(","))},SimpleCryptoDecode:function(e){return je.decrypt(e,s.parse(G),{iv:s.parse(W),mode:he,padding:fe}).toString(s)},SimpleCryptoEncode:function(e){return je.encrypt(e,s.parse(G),{iv:s.parse(W),mode:he,padding:fe}).toString()},BrowserDeviceId:function(e){for(var t,n=null===document||void 0===document?void 0:document.createElement("canvas"),i=null==n?void 0:n.getContext("2d"),e=e||(null==(e=null===window||void 0===window?void 0:window.location)?void 0:e.host),e=(i.textBaseline="top",i.font="14px 'Arial'",i.fillStyle="#f60",i.fillRect(125,1,62,20),i.fillStyle="#069",i.fillText(e,2,15),i.fillStyle="rgba(102, 204, 0, 0.7)",i.fillText(e,4,17),null==(i=null==n?void 0:n.toDataURL())?void 0:i.replace("data:image/png;base64,","")),o=null==(n=atob(e))?void 0:n.slice(-16,-12),a="",r=0,s=(o+="").length;r<s;r++)a+=(t=null==(t=o.charCodeAt(r))?void 0:t.toString(16)).length<2?"0"+t:t;return a},getDeviceId:function(e){var t=Pe(e=void 0===e?"zmy_data_collection_device_id":e);return t||Ne(e,t=Re(),31536e3),t},getDeviceIdNoStorage:function(e){void 0===e&&(e="zmy_data_collection_device_id");var t=Re();return Ne(e,t,31536e3),t}},Ue=Object.prototype.hasOwnProperty;function Fe(e,t,n){if(e)if(e.length&&e.length===+e.length){for(var i=0;i<e.length;i++)if(!0===t.call(n,e[i],i,e))return}else for(var o in e)if(Ue.call(e,o)&&!0===t.call(n,e[o],o,e))return}var z,He,x={},Je=Object.prototype.toString;function Ye(e){var i=[];return Fe(e,function(e,n){x.isArray(e)?Fe(e,function(e,t){i.push("".concat(n,"=").concat(encodeURIComponent(e)))}):i.push("".concat(n,"=").concat(encodeURIComponent(e)))}),i.join("&")}Fe(["Array","Boolean","Function","Object","String","Number"],function(t){x["is".concat(t)]=function(e){return Je.call(e)==="[object ".concat(t,"]")}}),(g=z=z||{}).TEXT="text",g.JSON="json",g.XML="xml",(e=He=He||{}).JSON="application/json",e.XWWWFORM="application/x-www-form-urlencoded",e.FORMDATA="multipart/form-data; boundary=<calculated when request is sent>",e.TEXTXML="text/xml";var Xe="XMLHttpRequest"in window?function(){return new XMLHttpRequest}:function(){return new window.ActiveXObject("Microsoft.XMLHTTP")};function qe(f){return new Promise(function(o,a){var e,t=f=x.isString(f)?{url:f}:f,n=t.url,i=t.type,i=void 0===i?"GET":i,r=t.data,s=t.dataType,l=void 0===s?z.JSON:s,s=t.contentType,s=void 0===s?He.JSON:s,c=t.timeout,c=void 0===c?3e4:c,d=t.credential,g=(t.encode,t.headers),u=t.auth,t=t.beforeSend,t=void 0===t?function(e){}:t,i=i.toUpperCase(),p=(x.isObject(r)&&(e=Ye(r)),"GET"===i&&e&&(n+=(-1===n.indexOf("?")?"?":"&")+e),Xe());if(!p)return null;var h,y=!1;0<c&&(h=setTimeout(function(){y=!0,p.abort()},c)),p.onreadystatechange=function(){if(4===p.readyState)if(y)a({httpStatus:0,responseText:"request timeout"});else{var e=p,t=l,n=e.status;if(200<=n&&n<300){var i=void 0;switch(t){case z.TEXT:i=e.responseText;break;case z.JSON:i=function(t){try{return JSON.parse(t)}catch(e){try{return new Function("return ".concat(t))()}catch(e){}}return null}(e.responseText);break;case z.XML:i=e.responseXML}void 0!==i&&o(i,n,e)}else a({httpStatus:e.status,responseText:e.responseText});e=null,clearTimeout(h)}},p.open(i,n,!0),d&&(p.withCredentials=!0),"POST"===i&&(He.JSON==s&&x.isObject(r)&&(e=JSON.stringify(r)),p.setRequestHeader("Content-type","".concat(s))),g&&Fe(g,function(e,t){p.setRequestHeader(t,e)}),u&&(c=k.auth(i,new URL(n).pathname),p.setRequestHeader("X-Date",c.GMTDate),p.setRequestHeader("Nonce",c.Nonce),p.setRequestHeader("Authorization",c.Authorization)),t&&t(p),p.send(e)})}var Ge={};Fe({type:["get","post"],dataType:["text","json","xml"]},function(e,i){Fe(e,function(e){var t,n;Ge[e]=(t=i,n=e,function(e){return(e=x.isString(e)?{url:e}:e)[t]=n,qe(e)})})});var We=document.head||document.getElementsByTagName("head")[0];function Ze(p){return new Promise(function(t,n){var e=p,i=e.url,o=e.data,o=void 0===o?{}:o,a=e.timestamp,a=void 0!==a&&a,r=e.timeout,r=void 0===r?3e4:r,s=e.jsonName,s=void 0===s?"callback":s,l=e.jsonpCallback,c=void 0===l?function(){for(var e=[],t="0123456789ABCDEF",n=0;n<32;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[12]="4",e[16]=t.substr(3&e[16]|8,1),"jsonp_"+e.join("")}():l,l=e.charset,d=document.createElement("script"),g=!1;function u(e){(e=void 0===e?!1:e)?g=!0:n(new Error("network error.")),d.onload=d.onerror=d.onreadystatechange=null,We&&d.parentNode&&(We.removeChild(d),d=null,window[c]=void 0)}d.onload=function(){u(!0)},d.onerror=function(){u()},window.opera&&setTimeout(function(){g||u()},r),l&&(d.charset=l);r=Ye(h(h({},o),((e={})[s]=c,e)));i+=(-1===i.indexOf("?")?"?":"&")+r,a&&(i+="&ts=".concat((new Date).getTime())),window[c]=function(e){t(e)},d.src=i,We.insertBefore(d,We.firstChild)})}function Ke(e,t){return(0<(t-=e.length)?"0".repeat(t):"")+e}function Qe(e){return e instanceof Uint8Array}var S={ResType:z,RequestType:He,jsonp:function(e){return Ze(e=x.isString(e)?{url:e}:e)},ajax:qe,get:function(e){return Ge.get(e)},post:function(e){return Ge.post(e)},text:function(e){return Ge.text(e)},json:function(e){return Ge.json(e)},xml:function(e){return Ge.xml(e)}},Ve=Array.from({length:256},function(e,t){return t.toString(16).padStart(2,"0")});function $e(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e.codePointAt(n);if(o<=127)t.push(o);else{if(o<=2047)t.push(192|o>>>6);else{if(o<=55295||57344<=o&&o<=65535)t.push(224|o>>>12);else{if(!(65536<=o&&o<=1114111))throw t.push(o),new Error("input is not supported");n++,t.push(240|o>>>18&28),t.push(128|o>>>12&63)}t.push(128|o>>>6&63)}t.push(128|63&o)}}return new Uint8Array(t)}var H=0,et=32,J=16,tt=Uint8Array.from([214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72]),nt=new Uint32Array([462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257]);function Y(e){return(255&tt[e>>>24&255])<<24|(255&tt[e>>>16&255])<<16|(255&tt[e>>>8&255])<<8|255&tt[255&e]}var it=new Uint8Array(16);function ot(e,t,n,i){var o=(i=void 0===i?{}:i).padding,o=void 0===o?"pkcs#7":o,a=i.mode,r=i.iv,r=void 0===r?new Uint8Array(16):r,i=i.output;if("cbc"===a&&16!==(r="string"==typeof r?$e(r):r).length)throw new Error("iv is invalid");if(16!==(t="string"==typeof t?$e(t):t).length)throw new Error("key is invalid");if(e="string"==typeof e?(n!==H?$e:function(e){for(var t=e.length,n=(e=t%2!=0?Ke(e,t+1):e).length/2,i=new Uint8Array(n),o=0;o<n;o++)i[o]=parseInt(e.substring(2*o,2*o+2),16);return i})(e):Uint8Array.from(e),("pkcs#5"===o||"pkcs#7"===o)&&n!==H){var s=J-e.length%J,l=new Uint8Array(e.length+s);l.set(e,0);for(var c=0;c<s;c++)l[e.length+c]=s;e=l}var d,g,D=new Uint32Array(et),u=D,N=n,p=0,h=0,y=0,f=0,p=(255&t[0])<<24|(255&t[1])<<16|(255&t[2])<<8|255&t[3],h=(255&t[4])<<24|(255&t[5])<<16|(255&t[6])<<8|255&t[7],y=(255&t[8])<<24|(255&t[9])<<16|(255&t[10])<<8|255&t[11],f=(255&t[12])<<24|(255&t[13])<<16|(255&t[14])<<8|255&t[15];p^=2746333894,h^=1453994832,y^=1736282519,f^=2993693404;for(var m=0;m<32;m+=4)p^=(g=Y(h^y^f^nt[m+0]))^(g<<13|g>>>19)^(g<<23|g>>>9),h^=(g=Y(y^f^(u[m+0]=p)^nt[m+1]))^(g<<13|g>>>19)^(g<<23|g>>>9),y^=(g=Y(f^p^(u[m+1]=h)^nt[m+2]))^(g<<13|g>>>19)^(g<<23|g>>>9),f^=(g=Y(p^h^(u[m+2]=y)^nt[m+3]))^(g<<13|g>>>19)^(g<<23|g>>>9),u[m+3]=f;if(N===H)for(m=0;m<16;m++)d=[u[31-m],u[m]],u[m]=d[0],u[31-m]=d[1];for(var v=new Uint8Array(e.length),w=r,P=e.length,_=0;J<=P;){var k=e.subarray(_,_+16);if("cbc"===a)for(c=0;c<J;c++)n!==H&&(k[c]^=w[c]);j=z=A=I=T=M=b=S=x=void 0;for(var z,x=k,S=it,b=D,M=0,T=0,I=0,A=0,M=(255&x[0])<<24|(255&x[1])<<16|(255&x[2])<<8|255&x[3],T=(255&x[4])<<24|(255&x[5])<<16|(255&x[6])<<8|255&x[7],I=(255&x[8])<<24|(255&x[9])<<16|(255&x[10])<<8|255&x[11],A=(255&x[12])<<24|(255&x[13])<<16|(255&x[14])<<8|255&x[15],j=0;j<32;j+=4)z=Y(T^I^A^b[j]),z=Y(I^A^(M^=z^(z<<2|z>>>30)^(z<<10|z>>>22)^(z<<18|z>>>14)^(z<<24|z>>>8))^b[j+1]),z=Y(A^M^(T^=z^(z<<2|z>>>30)^(z<<10|z>>>22)^(z<<18|z>>>14)^(z<<24|z>>>8))^b[j+2]),A^=(z=Y(M^T^(I^=z^(z<<2|z>>>30)^(z<<10|z>>>22)^(z<<18|z>>>14)^(z<<24|z>>>8))^b[j+3]))^(z<<2|z>>>30)^(z<<10|z>>>22)^(z<<18|z>>>14)^(z<<24|z>>>8);S[0]=A>>>24&255,S[1]=A>>>16&255,S[2]=A>>>8&255,S[3]=255&A,S[4]=I>>>24&255,S[5]=I>>>16&255,S[6]=I>>>8&255,S[7]=255&I,S[8]=T>>>24&255,S[9]=T>>>16&255,S[10]=T>>>8&255,S[11]=255&T,S[12]=M>>>24&255,S[13]=M>>>16&255,S[14]=M>>>8&255,S[15]=255&M;for(c=0;c<J;c++)"cbc"===a&&n===H&&(it[c]^=w[c]),v[_+c]=it[c];"cbc"===a&&(w=n!==H?it:k),P-=J,_+=J}if(("pkcs#5"===o||"pkcs#7"===o)&&n===H){for(var B=v.length,s=v[B-1],c=1;c<=s;c++)if(v[B-c]!==s)throw new Error("padding is invalid");v=v.slice(0,B-s)}if("array"===i)return v;if(n!==H){var E=v;if(!Qe(E))throw new Error("Uint8Array expected");for(var R="",U=0;U<E.length;U++)R+=Ve[E[U]];return R}for(var L=v,O=[],C=0,F=L.length;C<F;C++)240<=L[C]&&L[C]<=247?(O.push(String.fromCodePoint(((7&L[C])<<18)+((63&L[C+1])<<12)+((63&L[C+2])<<6)+(63&L[C+3]))),C+=3):224<=L[C]&&L[C]<=239?(O.push(String.fromCodePoint(((15&L[C])<<12)+((63&L[C+1])<<6)+(63&L[C+2]))),C+=2):192<=L[C]&&L[C]<=223?(O.push(String.fromCodePoint(((31&L[C])<<6)+(63&L[C+1]))),C++):O.push(String.fromCodePoint(L[C]));return O.join("")}function at(e){return je.encrypt(e,s.parse(G),{iv:s.parse(W),mode:he,padding:fe}).toString()}function rt(o,a,r,s){var e=this,l=k.getLocalDev()?N[0]:N[1];return new Promise(function(i){return y(e,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return s&&s.length?(t=k.getUserTagArr(r,s))&&t!=r?(n=k.auth("post","/memberapi/api/userinfo/editTag",m.host,m.username,m.secret),[4,S.ajax({url:"".concat(l,"?tenantid=ysz&token=").concat(a,"&uid=").concat(o,"&tag=").concat(t),type:"post",contentType:S.RequestType.FORMDATA,dataType:S.ResType.JSON,headers:{"x-date":n.GMTDate,Authorization:n.Authorization,Nonce:n.Nonce}})]):[3,2]:[3,2];case 1:e.sent(),e.label=2;case 2:return i(!0),[2]}})})})}var st={sendYSMS:function(i){var e=this,o=k.getLocalDev()?O[0]:O[1];return new Promise(function(n){return y(e,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return k.phoneIsValid(i)?[4,S.ajax({url:"".concat(o,"/SOAM/oauth/user/v3/getValidateCode"),type:"post",contentType:S.RequestType.XWWWFORM,dataType:S.ResType.JSON,data:{actionCode:5,appId:"APP001",mobile:i,tenantId:"ysz"}})]:(n({status:"err",msg:"手机号错误",data:""}),[2]);case 1:return 1==(t=e.sent()).returnCode?n({status:"err",msg:"获取验证码失败",data:""}):S.ajax({url:"".concat(o,"/SOAM/oauth/user/v3/sendMessage"),type:"post",contentType:S.RequestType.XWWWFORM,dataType:S.ResType.JSON,data:{actionCode:5,appId:"APP001",mobile:i,tenantId:"ysz",validateCode:t.data}}).then(function(e){0==e.returnCode?n({status:"ok",msg:"短信发送成功",data:e}):n({status:"err",msg:e.returnMessage,data:e})}).catch(function(e){var t=JSON.parse(e.responseText);n({status:"err",msg:null==t?void 0:t.returnMessage,data:e})}),[2]}})})})},loginYSMS:function(s,l,c){var e=this,d=k.getLocalDev()?O[0]:O[1];return new Promise(function(r){return y(e,void 0,void 0,function(){var t,n,i,o,a;return f(this,function(e){switch(e.label){case 0:return k.phoneIsValid(s)?(t=navigator.userAgent.toLowerCase(),t=-1<t.indexOf("mac"),[4,S.ajax({url:"".concat(d,"/SOAM/oauth/user/v2_2/authorize"),type:"post",contentType:S.RequestType.XWWWFORM,dataType:S.ResType.JSON,data:{appId:"APP001",authType:0,mobile:s,tenantId:"ysz",mobileCode:at("".concat(l)),imei:k.BrowserDeviceId(),deviceType:t?"ios":"android",OSNum:"web.sdk.1.0.0"}})]):(r({status:"err",msg:"mobile error"}),[2]);case 1:return 1===(t=e.sent()).returnCode?(r({status:"err",msg:t.returnMessage}),[2]):(n=t.data.access_token,[4,S.ajax({url:"".concat(d,"/SOAM/oauth/user/getuserinfo"),type:"post",contentType:S.RequestType.XWWWFORM,dataType:S.ResType.JSON,data:{appId:"APP001",tenantId:"ysz",access_token:n}})]);case 2:return 1===(i=e.sent()).returnCode?(r({status:"err",msg:i.returnMessage}),[2]):(o=k.getLocalDev()?C[0]:C[1],a=k.auth("get","/memberapi/api/user/detail",m.host,m.username,m.secret),[4,S.get({url:"".concat(o,"?token=").concat(n,"&tenantid=ysz&uid=-1"),headers:{yszmember:Z,"x-date":a.GMTDate,Authorization:a.Authorization,Nonce:a.Nonce}})]);case 3:return"0000"!=(o=e.sent()).code?r({status:"err",msg:o.description}):(rt(o.data.userid,o.data.token,o.data.tag,c),a={Token:n,UserInfo:{ID:o.data.userid,HdToken:k._signHdtoken(o.data.userid,i.data.mobile,n),Eszid:i.data.uid,NickName:i.data.nickName,Mobile:i.data.mobile||"",Openid:i.data.uid,Avatar:i.data.profileImageUrl||"",MemberUid:o.data.userid,Email:i.data.email,Redites:o.data.redites,MessageUserId:o.data.messageUserId,MemberToken:o.data.token,Platform:1,IsSign:o.data.isSign,UserType:o.data.userType,SignFlag:o.data.signFlag,ReditesAddOfOneDay:o.data.reditesAddOfOneDay,Groupid:o.data.groupid}},k.setLocalStorage(v,a,X),k.setLocalStorage(w,a.Token,X),r({status:"ok",msg:"success",data:a})),[2]}})})})},changeUserTag:rt,encryptCode:at,SM4:{encrypt:function(e,t,n){try{return ot(e,t||K,1,i=void 0===(i=n||{output:"string"})?{}:i)}catch(e){return""}var i},decrypt:function(e,t,n){try{return ot(e,t||K,0,i=void 0===(i=n||{output:"string"})?{}:i)}catch(e){return""}var i}},md5:function(e){return se(e).toString()}};function lt(){var t=-1<navigator.userAgent.toLowerCase().indexOf("mac"),e="",n=k.getLocalStorage(v),i=k.getLocalStorage(w);try{return(e=t?k.getLocalStorage("getLoginToken"):window.callNative.getLoginToken())?"true"==(t?e:JSON.parse(e)).isLogin?{env:"Y",login:!0,ios:t}:{env:"Y",login:!1,ios:t}:i&&n?{env:"N",login:!0,ios:t}:{env:"N",login:!1,ios:t}}catch(e){return i&&n?{env:"N",login:!0,ios:t}:{env:"N",login:!1,ios:t}}}function ct(l,e){var c=this,d=!1,g=null,u=60,p='<div id="ysz-sdk-login-loading"><div class="dot-spinner__dot"></div><div class="dot-spinner__dot"></div><div class="dot-spinner__dot"></div><div class="dot-spinner__dot"></div><div class="dot-spinner__dot"></div><div class="dot-spinner__dot"></div><div class="dot-spinner__dot"></div><div class="dot-spinner__dot"></div></div>',t=document.getElementById("ysz_sj-login-container"),n=null;if(null==t?(n=document.createElement("div")).setAttribute("id","ysz_sj-login-container"):n=t,n.innerHTML='<div id="ysz_sj-login-toast-tips" class="ysz-sdk-login-toast-tips"></div><div id="ysz_sj-login-overlay" class="ysz-sdk-login-overlay"></div><div id="ysz_sj-login-dialog" class="ysz-sdk-login-dialog"><div class="ysz-sdk-login-dialog-loginMain"><div class="ysz-sdk-login-dialog-loginMain-top" id="ysz-sdk-login-dialog-loginMain-top"><div class="ysz-sdk-login-dialog-loginMain-top__logo" id="ysz-sdk-login-dialog-loginMain-top__logo"></div></div><div class="ysz-sdk-login-dialog-loginMain-input"><div class="ysz-sdk-login-dialog-loginMain-input__item"><input id="ysz_sj-mobile-input" class="ysz-sdk-login-dialog-loginMain-input__item-input" placeholder="手机号" type="text"></div><div class="ysz-sdk-login-dialog-loginMain-input__item"><input id="ysz_sj-sms-code-input" class="ysz-sdk-login-dialog-loginMain-input__item-input" placeholder="验证码" type="text" maxlength="6"><div id="ysz_sj-get-sms-code" class="ysz-sdk-login-dialog-loginMain-input__item-sendCode">获取验证码</div></div><div class="ysz-sdk-login-dialog-loginMain-input__item"><button id="ysz_sj-sms-login" class="ysz-sdk-login-dialog-loginMain-input__item-noInput">登录</button></div></div><div class="ysz-sdk-login-dialog-loginMain-protocol" id="ysz-sdk-login-dialog-loginMain-protocol"><div class="ysz-sdk-login-dialog-loginMain-protocol__inner"><div class="ysz-sdk-login-dialog-loginMain-protocol__inner-radio" id="ysz_sj-radioAgree"><svg width="14px" id="ysz_sj-radioAgree_svg" height="14px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="vertical-align:-.125em;color:#fff"><g stroke="none" stroke-width="1" fill="inherit" fill-rule="evenodd"><g><rect fill="inherit" opacity="0" x="0" y="0" width="48" height="48"></rect><path d="M44.309608,12.6841286 L21.2180499,35.5661955 L21.2180499,35.5661955 C20.6343343,36.1446015 19.6879443,36.1446015 19.1042286,35.5661955 C19.0538201,35.5162456 19.0077648,35.4636155 18.9660627,35.4087682 C18.9113105,35.368106 18.8584669,35.3226694 18.808302,35.2729607 L3.6903839,20.2920499 C3.53346476,20.1365529 3.53231192,19.8832895 3.68780898,19.7263704 C3.7629255,19.6505669 3.86521855,19.6079227 3.97193622,19.6079227 L7.06238923,19.6079227 C7.16784214,19.6079227 7.26902895,19.6495648 7.34393561,19.7237896 L20.160443,32.4236157 L20.160443,32.4236157 L40.656066,12.115858 C40.7309719,12.0416387 40.8321549,12 40.9376034,12 L44.0280571,12 C44.248971,12 44.4280571,12.1790861 44.4280571,12.4 C44.4280571,12.5067183 44.3854124,12.609012 44.309608,12.6841286 Z" fill="currentColor" fill-rule="nonzero"></path></g></g></svg></div><div class="ysz-sdk-login-dialog-loginMain-protocol__inner-link">登录代表您已同意 <label id="ysz_sj-agreement">《用户协议》</label> 和 <label id="ysz_sj-privacy">《隐私条款》</label></div></div></div></div><i id="ysz_sj-login-panel-close" class="ysz-sdk-login-dialog-close"><svg class="ysz-sdk-login-dialog-close__svg" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4369" width="64" height="64"><path d="M753.365333 843.861333a64 64 0 0 0 90.496-90.496L602.496 512l241.365333-241.365333a64 64 0 0 0-90.496-90.496L512 421.504 270.634667 180.138667a64 64 0 1 0-90.496 90.496L421.504 512l-241.365333 241.365333a64 64 0 0 0 90.496 90.496L512 602.496l241.365333 241.365333z" fill="#000000" p-id="4370"></path></svg></i></div>',document.getElementsByTagName("body")[0].appendChild(n),e){if(e.hasOwnProperty("background")&&(document.getElementById("ysz_sj-login-dialog").style.background=e.background),e.hasOwnProperty("mainColor")&&document.getElementById("ysz_sj-login-dialog").style.setProperty("--normal-style-color",e.mainColor),e.hasOwnProperty("protocol")&&(document.getElementById("ysz-sdk-login-dialog-loginMain-protocol").style.display=e.protocol?"block":"none",d=!e.protocol,document.getElementById("ysz_sj-sms-login").style.opacity=e.protocol?"0.5":"1"),e.hasOwnProperty("dialogStyle"))if("string"==typeof e.dialogStyle)document.getElementById("ysz_sj-login-dialog").setAttribute("style",e.dialogStyle);else if("object"==typeof e.dialogStyle)for(var i in e.dialogStyle)document.getElementById("ysz_sj-login-dialog").style[i]=e.dialogStyle[i];if(e.hasOwnProperty("mainTopStyle")){if(e.mainTopStyle.hasOwnProperty("logo")&&(document.getElementById("ysz-sdk-login-dialog-loginMain-top__logo").style.backgroundImage='url("'.concat(e.mainTopStyle.logo,'")')),e.mainTopStyle.hasOwnProperty("style"))if("string"==typeof e.mainTopStyle.style)document.getElementById("ysz-sdk-login-dialog-loginMain-top").setAttribute("style",e.mainTopStyle.style);else for(var i in e.mainTopStyle.style)document.getElementById("ysz-sdk-login-dialog-loginMain-top").style[i]=e.mainTopStyle.style[i];if(e.mainTopStyle.hasOwnProperty("logoStyle"))if("string"==typeof e.mainTopStyle.logoStyle)document.getElementById("ysz-sdk-login-dialog-loginMain-top__logo").setAttribute("style",e.mainTopStyle.logoStyle);else if("object"==typeof e.mainTopStyle.logoStyle)for(var i in e.mainTopStyle.logoStyle)document.getElementById("ysz-sdk-login-dialog-loginMain-top__logo").style[i]=e.mainTopStyle.logoStyle[i]}if(e.hasOwnProperty("inputStyle"))if("string"==typeof e.inputStyle)document.getElementById("ysz_sj-mobile-input").setAttribute("style",e.inputStyle),document.getElementById("ysz_sj-sms-code-input").setAttribute("style",e.inputStyle);else if("object"==typeof e.inputStyle)for(var i in e.inputStyle)document.getElementById("ysz_sj-mobile-input").style[i]=e.inputStyle[i],document.getElementById("ysz_sj-sms-code-input").style[i]=e.inputStyle[i];if(e.hasOwnProperty("loginBtnStyle"))if("string"==typeof e.loginBtnStyle)document.getElementById("ysz_sj-sms-login").setAttribute("style",e.loginBtnStyle);else if("object"==typeof e.loginBtnStyle)for(var i in e.loginBtnStyle)document.getElementById("ysz_sj-sms-login").style[i]=e.loginBtnStyle[i]}setTimeout(function(){document.getElementById("ysz_sj-login-dialog").style.bottom="0"},10);function h(e){document.getElementById("ysz_sj-login-toast-tips").innerText=e,document.getElementById("ysz_sj-login-toast-tips").style.display="flex",setTimeout(function(){document.getElementById("ysz_sj-login-toast-tips").style.transform="translate3d(0,0,0)",setTimeout(function(){document.getElementById("ysz_sj-login-toast-tips").style.transform="translate3d(0,-100%,0)",document.getElementById("ysz_sj-login-toast-tips").style.display="none"},3e3)},5)}return new Promise(function(o,e){var t=function(e){return y(c,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return(n=document.getElementById("ysz_sj-mobile-input").value)?((t=document.getElementById("ysz_sj-get-sms-code")).innerHTML=p,[4,st.sendYSMS(n)]):[3,2];case 1:"ok"==(n=e.sent()).status?(u=60,g=setInterval(function(){0==u?(clearInterval(g),g=null,t.innerText="获取验证码",u=60):(u--,t.innerText=u+"s")},1e3)):(h(n.msg),t.innerText="获取验证码"),e.label=2;case 2:return[2]}})})},n=function(e){d?(document.getElementById("ysz_sj-sms-login").style.opacity="0.5",document.getElementById("ysz_sj-radioAgree").classList.remove("ysz-sdk-login-dialog-loginMain-protocol__inner-radioAgree"),document.getElementById("ysz_sj-radioAgree_svg").style.display="none"):(document.getElementById("ysz_sj-sms-login").style.opacity="1",document.getElementById("ysz_sj-radioAgree").classList.add("ysz-sdk-login-dialog-loginMain-protocol__inner-radioAgree"),document.getElementById("ysz_sj-radioAgree_svg").style.display="block"),d=!d},i=function(){return y(c,void 0,void 0,function(){var t,n,i;return f(this,function(e){switch(e.label){case 0:return(i=document.getElementById("ysz_sj-mobile-input").value,t=document.getElementById("ysz_sj-sms-code-input").value,n=document.getElementById("ysz_sj-sms-login"),i&&t&&d)?(n.innerHTML=p,[4,st.loginYSMS(i,t,l)]):[3,2];case 1:i=e.sent(),n.innerHTML="登录","ok"==i.status?(s(),o(i.data)):h(i.msg),e.label=2;case 2:return[2]}})})},a=function(){window.open("https://www.sztv.com.cn/ysz/APPfwxx/28035521.shtml")},r=function(){window.open("https://www.sztv.com.cn/ysz/APPfwxx/28035521.shtml")},s=function(){document.getElementById("ysz_sj-get-sms-code").removeEventListener("click",t),document.getElementById("ysz_sj-radioAgree").removeEventListener("click",n),document.getElementById("ysz_sj-sms-login").removeEventListener("click",i),document.getElementById("ysz_sj-login-panel-close").removeEventListener("click",s),document.getElementById("ysz_sj-agreement").removeEventListener("click",a),document.getElementById("ysz_sj-privacy").removeEventListener("click",r),document.getElementById("ysz_sj-login-overlay").remove(),document.getElementById("ysz_sj-login-dialog").remove()};document.getElementById("ysz_sj-get-sms-code").addEventListener("click",t),document.getElementById("ysz_sj-radioAgree").addEventListener("click",n),document.getElementById("ysz_sj-sms-login").addEventListener("click",i),document.getElementById("ysz_sj-login-overlay").addEventListener("click",s),document.getElementById("ysz_sj-login-panel-close").addEventListener("click",s),document.getElementById("ysz_sj-agreement").addEventListener("click",a),document.getElementById("ysz_sj-privacy").addEventListener("click",r)})}function dt(e,t){return k.auth(e,t)}function gt(t,n){return y(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return window.wx?[3,2]:[4,k.loadScript(q)];case 1:e.sent(),e.label=2;case 2:return window.wx.ready(function(){window.wx.checkJsApi({jsApiList:Q}),t&&(window.wx.updateTimelineShareData({title:t.title,link:t.link,imgUrl:t.imgUrl,success:function(){n&&n({type:"updateTimelineShareData",status:"success"})},cancel:function(){n&&n({type:"updateTimelineShareData",status:"cancel"})}}),window.wx.updateAppMessageShareData({title:t.title,desc:t.desc,link:t.link||window.location.href,imgUrl:t.imgUrl,success:function(){n&&n({type:"updateAppMessageShareData",status:"success"})},cancel:function(){n&&n({type:"updateAppMessageShareData",status:"cancel"})}}))}),[2]}})})}var ut={check:function(g,u,p){var h=k.getLocalDev()?C[0]:C[1];return new Promise(function(i,t){var o=null,a=-1<navigator.userAgent.toLowerCase().indexOf("mac"),e="";function r(){window.webkit.messageHandlers.jumpToLogin.postMessage(null)}function s(){var t="";o=setInterval(function(){t=a?k.getLocalStorage("getLoginToken"):window.callNative.getLoginToken();var e=a?t:JSON.parse(t);"true"===e.isLogin&&(clearInterval(o),o=null,n(e))},500)}function n(n){var e=k.auth("get","/memberapi/api/user/detail",m.host,m.username,m.secret);S.get({url:"".concat(h,"?token=").concat(n.token,"&tenantid=ysz&uid=-1"),headers:{yszmember:Z,"x-date":e.GMTDate,Authorization:e.Authorization,Nonce:e.Nonce}}).then(function(e){var t;"0000"===e.code?(e=e.data,st.changeUserTag(e.userid,e.token,e.tag,u),t=e.mobile?st.SM4.decrypt(e.mobile):"",t={Token:n.token,UserInfo:{ID:e.userid,Eszid:n.uid,HdToken:k._signHdtoken(e.userid,t,n.token),NickName:n.nickName,Mobile:t,Openid:n.uid,Avatar:n.avatar||"",MemberUid:e.userid,Email:"",Redites:e.redites,MessageUserId:e.userid,MemberToken:e.token,Platform:1,IsSign:e.isSign,UserType:e.userType,SignFlag:e.signFlag,ReditesAddOfOneDay:e.reditesAddOfOneDay,Groupid:e.groupid}},k.setLocalStorage(v,t,X),k.setLocalStorage(w,n.token,X),i(t)):i({Token:n.token,UserInfo:{}})}).catch(function(e){k.clearLocalStorage(v),k.clearLocalStorage(w),clearInterval(o),o=null,s(),a?r():window.callNative.jumpToLogin()})}var l,c=k.getLocalStorage(v),d=k.getLocalStorage(w);try{(e=a?k.getLocalStorage("getLoginToken"):window.callNative.getLoginToken())?"true"==(l=a?e:JSON.parse(e)).isLogin?d&&c?c.UserInfo.Openid==(null==l?void 0:l.uid)?i(c):(k.clearLocalStorage(v),k.clearLocalStorage(w),n(l)):n(l):(k.clearLocalStorage(v),k.clearLocalStorage(w),clearInterval(o),o=null,s(),a?r():window.callNative.jumpToLogin()):d&&c?i(c):g?ct(u,p).then(function(e){i(e)}):t(!1)}catch(e){d&&c?i(c):g?ct(u,p).then(function(e){i(e)}):t(!1)}})},logout:function(){k.clearLocalStorage(w),k.clearLocalStorage(v),k.clearLocalStorage("SJ_WxUserInfo"),k.clearLocalStorage(U)},loginPanel:ct,checkSilent:lt,getYszAuth:dt,wxLogin:function(l,c,d){var e=this;return void 0===c&&(c="snsapi_userinfo"),void 0===d&&(d=null),new Promise(function(s){return y(e,void 0,void 0,function(){var i,o,a,r;return f(this,function(e){switch(e.label){case 0:return k.isWeiXin()?(a=k.getLocalDev()?D[0]:D[1],r=k.getQueryValue(window.location.href,"code"),i=k.getLocalStorage(F),!r||i?[3,2]:(o=dt("get","/api/weixin/userinfo"),[4,S.ajax({url:"".concat(a),type:"GET",data:{code:r,siteId:67},headers:{"x-date":o.GMTDate,Authorization:o.Authorization,Nonce:o.Nonce}})])):[3,3];case 1:return a=e.sent(),r=a.data,k.setLocalStorage(F,r,d),s(r),[3,3];case 2:if(i)return s(i),[2];if(!l)return s(null),[2];t=c,n="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx1d6e9fa7645660fe&redirect_uri="+(n=(n=window.location.href).includes("#")?n.split("#")[0]:n)+"&response_type=code&scope="+t+"&state=STATE#wechat_redirect",window.location.href=n,e.label=3;case 3:return[2]}var t,n})})})},wxShare:function(i,o){return y(this,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return k.isWeiXin()?window.wx?[3,2]:[4,k.loadScript(q)]:[2];case 1:e.sent(),e.label=2;case 2:return n=k.getLocalDev()?L[0]:L[1],t=dt("get","/api/weixin/jstoken"),[4,S.ajax({url:"".concat(n,"/api/weixin/jstoken"),type:"GET",data:{url:window.location.href,siteId:67},headers:{"x-date":t.GMTDate,Authorization:t.Authorization,Nonce:t.Nonce}})];case 3:n=e.sent();try{window.wx.config({appId:n.appId,timestamp:n.timestamp,nonceStr:n.noncestr,signature:n.signature,jsApiList:Q,openTagList:["wx-open-launch-app","wx-open-launch-weapp","wx-open-audio"]}),i&&gt(i,o)}catch(e){console.error(e)}return[2]}})})},wxShareReady:gt,setLocalDev:function(){k.setLocalDev()},goWxLogin:function(){var e="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx1d6e9fa7645660fe&redirect_uri="+(e=(e=window.location.href).includes("#")?e.split("#")[0]:e)+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect";window.location.href=e},signHdtoken:function(e,t,n){return k._signHdtoken(e,t,n)},scanLogin:function(i,o){return new Promise(function(n){S.ajax({url:"".concat(P[0]),type:"POST",contentType:S.RequestType.JSON,dataType:S.ResType.JSON,data:{}}).then(function(e){var t;i&&0==e.code&&(t=e.data.token,window.yszInterval&&clearInterval(window.yszInterval),window.yszInterval=setInterval(function(){S.ajax({url:"".concat(R[0],"?token=").concat(t),type:"POST",contentType:S.RequestType.JSON,dataType:S.ResType.JSON}).then(function(e){0==e.code?(e=e.data).data&&"waiting"!=e.data&&(clearInterval(window.yszInterval),o)&&o(e.data):clearInterval(window.yszInterval)})},1e3)),n(h(h({},e.data),{code:e.code}))})})},scanCheckLogin:function(n){var e=this;return new Promise(function(t){return y(e,void 0,void 0,function(){return f(this,function(e){return""==n?t({code:7,msg:"token is null"}):S.ajax({url:"".concat(R[0],"?token=").concat(n),type:"POST",contentType:S.RequestType.JSON,dataType:S.ResType.JSON}).then(function(e){t(h(h({},e.data),{code:e.code}))}),[2]})})})},alertAppShare:function(e){var t=lt();"Y"==t.env&&(t.ios?window.webkit.messageHandlers.setShareInfo.postMessage({title:e.title,desc:e.desc,imagePath:e.imgUrl,url:e.link}):window.callNative.setShareInfo(e.title,e.desc,e.imgUrl,e.link))},openNativePage:function(e,t){var n="";switch(e){case"article_detail":n="ysz://com.cutv.shakeshake/native/articleDetail/detail?articleId=".concat(t.articleId);break;case"article_list":n="ysz://com.cutv.shakeshake/native/articleList/".concat(t.catalogType,"?catalogId=").concat(t.catalogId);break;case"tv_detail":n="ysz://com.cutv.shakeshake/native/customized/tvLanMuDetail?id=".concat(t.catalogId);break;case"web":n="ysz://com.cutv.shakeshake/web?url=".concat(t.url,"&id=").concat(t.articleId,"&title=").concat(t.title,"&img=").concat(t.img,"&des=").concat(t.des);break;case"wechat_mini":n="ysz://com.cutv.shakeshake/wechatApplet?appletId=".concat(t.appId,"&appletPath=").concat(t.appPath,"&miniprogramType=").concat(t.miniType);break;case"home_page_catalog":n="ysz://com.cutv.shakeshake/native/customized/locationHomePageCatalog?catalogId=".concat(t.catalogId);break;case"mp_home_page":n="ysz://com.cutv.shakeshake/native/customized/yszAccount?accountId=".concat(t.mpHomeUserId)}"Y"==(e=lt()).env?e.ios?window.webkit.messageHandlers.openNativePage.postMessage(n):window.callNative.openNativePage(n):window.location.href=n},setToolBarStyle:function(e){e=JSON.stringify(e);var t=lt();"Y"==t.env&&(t.ios?window.webkit.messageHandlers.setToolBarStyle.postMessage(e):window.callNative.setToolBarStyle(e))},getAppDeviceId:function(){var e=lt();return"Y"==e.env?e.ios?(window.webkit.messageHandlers.getAppDeviceId.postMessage(""),new Promise(function(t,e){window.getAppDeviceIdCallback=function(e){t(e)}})):new Promise(function(e,t){e(window.callNative.getAppDeviceId())}):new Promise(function(e){e({})})},getAppLocation:function(){var i,e=lt();return"Y"==e.env?e.ios?(window.webkit.messageHandlers.getLocationMsg.postMessage(""),new Promise(function(t,e){window.locationCallBack=function(e){t(e)}})):new Promise(function(t,n){i=setTimeout(function(){n(new Error("获取位置信息超时，请重试"))},1e4),window.locationCallBack=function(e){clearTimeout(i),t(e)};try{window.callNative.getLocationMsg()}catch(e){clearTimeout(i),n(e)}}):new Promise(function(e){e({})})}},b={Android:"Android",IOS:"IOS",Mobile:"Mobile",PC:"PC"},B={ActivityRead:"activity_pv",ActivityShare:"activity_share",ActivityLike:"activity_praise",ActivityComment:"activity_comment",Read:"pv",Share:"share",Comment:"comment",Like:"praise",PageStay:"page_stay"};function pt(e){window.__PAGE_STAY_TIME__||(window.__PAGE_STAY_TIME__=0);var n={},t="",i=k.getLocalStorage(v),t=(i&&i.UserInfo&&(t=i.UserInfo.ID),n.event_types=null!=(i=e.event)?i:"",n.article_id=null!=(i=e.article_id)?i:"",n.device_id=null!=(i=e.device_id)?i:k.getDeviceId(),n.user_id=null!=(i=null!=(i=e.user_id)?i:t)?i:"",n.refer=null!=(i=null!=(t=e.refer)?t:document.referrer)?i:"",n.share_channel=null!=(t=e.share_channel)?t:"",n.href=window.location.href,n.session_id=k.uuid(),n.sources="JS_SDK",n.data_sources=null!=(i=e.data_sources)?i:"ysz",n.event_times=(new Date).getTime(),n.distinct_id=k.getDeviceId("dyxc_data_collection_device_id"),n.cookie_id=k.getDeviceId("report_cookie_id"),n.title=null!=(i=null!=(t=e.title)?t:document.title)?i:"",n.user_agent=null!=(t=window.navigator.userAgent)?t:"",e.platform?n.platform=e.platform:"Y"==(i=ut.checkSilent()).env?n.platform=i.ios?b.IOS:b.Android:n.platform=b.Mobile,k.auth("post","/v1/events/report","bdcollector.mp.sztv.com.cn","bdcollector","5p96WtxI4G2LGFrjw18hwx2fhVYhWIz9v"));S.ajax({url:"https://bdcollector.mp.sztv.com.cn/v1/events/report",type:"POST",contentType:S.RequestType.JSON,data:n,headers:{"x-date":t.GMTDate,Authorization:t.Authorization,Nonce:t.Nonce}}).then(function(){function e(){S.ajax({url:"https://bdcollector.mp.sztv.com.cn/v1/events/report",type:"POST",contentType:S.RequestType.JSON,data:{session_id:t.session_id,article_id:t.article_id,platform:t.platform,device_id:t.device_id,user_id:t.user_id,href:t.href,refer:t.refer,sources:"JS_SDK",event_types:"heart_beat",data_sources:"ysz",event_times:(new Date).getTime(),title:t.title,user_agent:t.user_agent,cookie_id:t.cookie_id}})}var t;t=h({},n),e(),setInterval(e,5e3)})}g={Platform:b,ShareChannel:{ChannelWechat:"ChannelWechat",ChannelTimeLine:"ChannelTimeLine",ChannelSina:"ChannelSina",ChannelQQ:"ChannelQQ",ChannelMeeTime:"ChannelMeeTime",ChannelAlbum:"ChannelAlbum"},EventType:B,YSZDataCollection:pt,ZMYDataCollection:function(a,r){return y(this,void 0,void 0,function(){var t,n,i,o;return f(this,function(e){switch(e.label){case 0:return window.ZMYDataCollection?[3,2]:[4,k.loadScript("https://gh5tc-cos.mp.sztv.com.cn/ysz_web_static/plugins/zmy-data-collection-3.0.0.min.js")];case 1:e.sent(),e.label=2;case 2:return a.hasOwnProperty("hmjs")?[4,k.loadScript(a.hmjs)]:[3,4];case 3:e.sent(),e.label=4;case 4:return a.hasOwnProperty("clklog")?a.clklog.hasOwnProperty("project")&&a.clklog.hasOwnProperty("token")?[4,k.loadScript("".concat("https://gh5tc-cos.mp.sztv.com.cn/ysz_web_static/plugins/clklog/v3/autotrack.js","?project=").concat(a.clklog.project,"&token=").concat(a.clklog.token))]:[3,6]:[3,6];case 5:e.sent(),e.label=6;case 6:if(!window.__ZMY_CONFIG__){a.debug?window.__ZMY_CONFIG__={tenant_code:"ee5ff4cd45ba4e349b4efd821f739e8a",domain:"testrmapi.nfzmy.com",key:"gHDfO9YWyrZw4XxDLFcbaDxb",debug:!0}:window.__ZMY_CONFIG__={tenant_code:"prod-szgd-44481c94a07d0fd2b939ab",key:"CBj1vrXLPv5D9sJQMtyBusuGBl8CQXvH",debug:!1};try{window.ZMYDataCollection.init(window.__ZMY_CONFIG__)}catch(e){return console.error("======zmy-sdk 初始化失败====== 请在执行初始化前同步加载SDK！"),[2]}}if(t={},i="",(n=k.getLocalStorage(v))&&n.UserInfo&&(i=n.UserInfo.ID),t.article_id=null!=(n=a.article_id)?n:"",t.device_id=null!=(n=a.device_id)?n:"",t.user_id=null!=(n=null!=(n=a.user_id)?n:i)?n:"",t.refer=null!=(n=null!=(i=a.refer)?i:document.referrer)?n:"",a.share_channel&&(t.share_channel=null!=(i=a.share_channel)?i:""),function(e){var t;S.ajax({url:"https://dyxch5api.mp.sztv.com.cn/api/v1/report/send",type:"POST",contentType:S.RequestType.JSON,data:{article_id:null!=(t=e.article_id)?t:"",title:null!=(t=null!=(t=e.title)?t:document.title)?t:"",url:null!=(t=e.url)?t:window.location.href}})}(a),a.platform)t.platform=a.platform;else{if("Y"==(n=ut.checkSilent()).env)return t.platform=n.ios?b.IOS:b.Android,[2];t.platform=b.Mobile}i=function(){pt(a),r&&r(t)},t.success=i,t.fail=function(){},t.complete=function(){};try{switch(a.event){case B.Read:window.ZMYDataCollection.openArticle(t);break;case B.Share:window.ZMYDataCollection.shareArticle(t);break;case B.Comment:window.ZMYDataCollection.commentArticle(t);break;case B.Like:window.ZMYDataCollection.likeArticle(t);break;case B.ActivityRead:case B.ActivityShare:case B.ActivityLike:case B.ActivityComment:window.ZMYDataCollection.openActivityH5({activity_id:t.article_id,platform:t.platform,user_id:t.user_id,url:null!=(o=a.url)?o:window.location.href,device_id:t.device_id,refer:t.refer,success:t.success,fail:t.fail,complete:t.complete});break;default:window.ZMYDataCollection.openArticle(t)}}catch(e){console.error("======zmy-sdk 稿件上报调用失败======",e.name,e.message)}return[2]}})})}};E.AuthUtil=st,E.HttpUtil=S,E.LoginUtil=ut,E.StUtil=g});
